var ui=function(){var E=import.meta.url;return function(i){i=i||{};var i=typeof i<"u"?i:{},g=Object.assign,T,F;i.ready=new Promise(function(t,e){T=t,F=e});var j=g({},i),A=[],k="./this.program",Z=function(t,e){throw e},ie=!0,Ce=!1,Y="";function Yt(t){return i.locateFile?i.locateFile(t,Y):Y+t}var xt,Vt,Ie,Lt;(ie||Ce)&&(Ce?Y=self.location.href:typeof document<"u"&&document.currentScript&&(Y=document.currentScript.src),E&&(Y=E),Y.indexOf("blob:")!==0?Y=Y.substr(0,Y.replace(/[?#].*/,"").lastIndexOf("/")+1):Y="",xt=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},Ce&&(Ie=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),Vt=function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(n.status==200||n.status==0&&n.response){e(n.response);return}r()},n.onerror=r,n.send(null)},Lt=function(t){document.title=t});var Bt=i.print||console.log.bind(console),ae=i.printErr||console.warn.bind(console);g(i,j),j=null,i.arguments&&(A=i.arguments),i.thisProgram&&(k=i.thisProgram),i.quit&&(Z=i.quit);var ot=0,B=function(t){ot=t},Nt=function(){return ot},ce;i.wasmBinary&&(ce=i.wasmBinary);var hi=i.noExitRuntime||!0;typeof WebAssembly!="object"&&_e("no native wasm support detected");var we,st=!1,Gt;function zt(t,e){t||_e(e)}var ut=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ft(t,e,r){for(var n=e+r,a=e;t[a]&&!(a>=n);)++a;if(a-e>16&&t.subarray&&ut)return ut.decode(t.subarray(e,a));for(var s="";e<a;){var u=t[e++];if(!(u&128)){s+=String.fromCharCode(u);continue}var o=t[e++]&63;if((u&224)==192){s+=String.fromCharCode((u&31)<<6|o);continue}var f=t[e++]&63;if((u&240)==224?u=(u&15)<<12|o<<6|f:u=(u&7)<<18|o<<12|f<<6|t[e++]&63,u<65536)s+=String.fromCharCode(u);else{var l=u-65536;s+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return s}function Te(t,e){return t?ft(S,t,e):""}function ct(t,e,r,n){if(!(n>0))return 0;for(var a=r,s=r+n-1,u=0;u<t.length;++u){var o=t.charCodeAt(u);if(o>=55296&&o<=57343){var f=t.charCodeAt(++u);o=65536+((o&1023)<<10)|f&1023}if(o<=127){if(r>=s)break;e[r++]=o}else if(o<=2047){if(r+1>=s)break;e[r++]=192|o>>6,e[r++]=128|o&63}else if(o<=65535){if(r+2>=s)break;e[r++]=224|o>>12,e[r++]=128|o>>6&63,e[r++]=128|o&63}else{if(r+3>=s)break;e[r++]=240|o>>18,e[r++]=128|o>>12&63,e[r++]=128|o>>6&63,e[r++]=128|o&63}}return e[r]=0,r-a}function Xt(t,e,r){return ct(t,S,e,r)}function lt(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((n&1023)<<10)|t.charCodeAt(++r)&1023),n<=127?++e:n<=2047?e+=2:n<=65535?e+=3:e+=4}return e}var _t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function qt(t,e){for(var r=t,n=r>>1,a=n+e/2;!(n>=a)&&Fe[n];)++n;if(r=n<<1,r-t>32&&_t)return _t.decode(S.subarray(t,r));for(var s="",u=0;!(u>=e/2);++u){var o=oe[t+u*2>>1];if(o==0)break;s+=String.fromCharCode(o)}return s}function Jt(t,e,r){if(r===void 0&&(r=2147483647),r<2)return 0;r-=2;for(var n=e,a=r<t.length*2?r/2:t.length,s=0;s<a;++s){var u=t.charCodeAt(s);oe[e>>1]=u,e+=2}return oe[e>>1]=0,e-n}function Zt(t){return t.length*2}function Kt(t,e){for(var r=0,n="";!(r>=e/4);){var a=v[t+r*4>>2];if(a==0)break;if(++r,a>=65536){var s=a-65536;n+=String.fromCharCode(55296|s>>10,56320|s&1023)}else n+=String.fromCharCode(a)}return n}function Qt(t,e,r){if(r===void 0&&(r=2147483647),r<4)return 0;for(var n=e,a=n+r-4,s=0;s<t.length;++s){var u=t.charCodeAt(s);if(u>=55296&&u<=57343){var o=t.charCodeAt(++s);u=65536+((u&1023)<<10)|o&1023}if(v[e>>2]=u,e+=4,e+4>a)break}return v[e>>2]=0,e-n}function er(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e}function tr(t,e){x.set(t,e)}function rr(t,e,r){for(var n=0;n<t.length;++n)x[e++>>0]=t.charCodeAt(n);r||(x[e>>0]=0)}function nr(t,e){return t%e>0&&(t+=e-t%e),t}var Ye,x,S,oe,Fe,v,N,dt,pt;function ht(t){Ye=t,i.HEAP8=x=new Int8Array(t),i.HEAP16=oe=new Int16Array(t),i.HEAP32=v=new Int32Array(t),i.HEAPU8=S=new Uint8Array(t),i.HEAPU16=Fe=new Uint16Array(t),i.HEAPU32=N=new Uint32Array(t),i.HEAPF32=dt=new Float32Array(t),i.HEAPF64=pt=new Float64Array(t)}var vi=i.INITIAL_MEMORY||16777216,vt,gt=[],mt=[],yt=[],ir=!1;function ar(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ur(i.preRun.shift());Ve(gt)}function or(){ir=!0,Ve(mt)}function sr(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)cr(i.postRun.shift());Ve(yt)}function ur(t){gt.unshift(t)}function fr(t){mt.unshift(t)}function cr(t){yt.unshift(t)}var te=0,xe=null,le=null;function lr(t){te++,i.monitorRunDependencies&&i.monitorRunDependencies(te)}function _r(t){if(te--,i.monitorRunDependencies&&i.monitorRunDependencies(te),te==0&&(xe!==null&&(clearInterval(xe),xe=null),le)){var e=le;le=null,e()}}i.preloadedImages={},i.preloadedAudios={};function _e(t){i.onAbort&&i.onAbort(t),t="Aborted("+t+")",ae(t),st=!0,Gt=1,t+=". Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(t);throw F(e),e}var dr="data:application/octet-stream;base64,";function bt(t){return t.startsWith(dr)}var W;i.locateFile?(W="/js/dist/hector.wasm",bt(W)||(W=Yt(W))):W=new URL("/js/dist/hector.wasm",import.meta.url).toString();function Ct(t){try{if(t==W&&ce)return new Uint8Array(ce);if(Ie)return Ie(t);throw"both async and sync fetching of the wasm failed"}catch(e){_e(e)}}function pr(){return!ce&&(ie||Ce)&&typeof fetch=="function"?fetch(W,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+W+"'";return t.arrayBuffer()}).catch(function(){return Ct(W)}):Promise.resolve().then(function(){return Ct(W)})}function hr(){var t={a:Gn};function e(u,o){var f=u.exports;i.asm=f,we=i.asm.Y,ht(we.buffer),vt=i.asm.ha,fr(i.asm.Z),_r("wasm-instantiate")}lr("wasm-instantiate");function r(u){e(u.instance)}function n(u){return pr().then(function(o){return WebAssembly.instantiate(o,t)}).then(function(o){return o}).then(u,function(o){ae("failed to asynchronously prepare wasm: "+o),_e(o)})}function a(){return!ce&&typeof WebAssembly.instantiateStreaming=="function"&&!bt(W)&&typeof fetch=="function"?fetch(W,{credentials:"same-origin"}).then(function(u){var o=WebAssembly.instantiateStreaming(u,t);return o.then(r,function(f){return ae("wasm streaming compile failed: "+f),ae("falling back to ArrayBuffer instantiation"),n(r)})}):n(r)}if(i.instantiateWasm)try{var s=i.instantiateWasm(t,e);return s}catch(u){return ae("Module.instantiateWasm callback failed with error: "+u),!1}return a().catch(F),{}}function Ve(t){for(;t.length>0;){var e=t.shift();if(typeof e=="function"){e(i);continue}var r=e.func;typeof r=="number"?e.arg===void 0?O(r)():O(r)(e.arg):r(e.arg===void 0?null:e.arg)}}var Pe=[];function O(t){var e=Pe[t];return e||(t>=Pe.length&&(Pe.length=t+1),Pe[t]=e=vt.get(t)),e}function vr(t){return be(t+16)+16}function de(t){this.excPtr=t,this.ptr=t-16,this.set_type=function(e){v[this.ptr+4>>2]=e},this.get_type=function(){return v[this.ptr+4>>2]},this.set_destructor=function(e){v[this.ptr+8>>2]=e},this.get_destructor=function(){return v[this.ptr+8>>2]},this.set_refcount=function(e){v[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,x[this.ptr+12>>0]=e},this.get_caught=function(){return x[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,x[this.ptr+13>>0]=e},this.get_rethrown=function(){return x[this.ptr+13>>0]!=0},this.init=function(e,r){this.set_type(e),this.set_destructor(r),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=v[this.ptr>>2];v[this.ptr>>2]=e+1},this.release_ref=function(){var e=v[this.ptr>>2];return v[this.ptr>>2]=e-1,e===1}}function Ae(t){this.free=function(){M(this.ptr),this.ptr=0},this.set_base_ptr=function(e){v[this.ptr>>2]=e},this.get_base_ptr=function(){return v[this.ptr>>2]},this.set_adjusted_ptr=function(e){v[this.ptr+4>>2]=e},this.get_adjusted_ptr_addr=function(){return this.ptr+4},this.get_adjusted_ptr=function(){return v[this.ptr+4>>2]},this.get_exception_ptr=function(){var e=Wt(this.get_exception_info().get_type());if(e)return v[this.get_base_ptr()>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.get_base_ptr()},this.get_exception_info=function(){return new de(this.get_base_ptr())},t===void 0?(this.ptr=be(8),this.set_adjusted_ptr(0)):this.ptr=t}var wt=[];function gr(t){t.add_ref()}var Le=0;function mr(t){var e=new Ae(t),r=e.get_exception_info();return r.get_caught()||(r.set_caught(!0),Le--),r.set_rethrown(!1),wt.push(e),gr(r),e.get_exception_ptr()}var se=0;function Tt(t){return M(new de(t).ptr)}function yr(t){if(t.release_ref()&&!t.get_rethrown()){var e=t.get_destructor();e&&O(e)(t.excPtr),Tt(t.excPtr)}}function br(){V(0);var t=wt.pop();yr(t.get_exception_info()),t.free(),se=0}function Cr(t){var e=new Ae(t),r=e.get_base_ptr();throw se||(se=r),e.free(),r}function wr(){var t=se;if(!t)return B(0),0;var e=new de(t),r=e.get_type(),n=new Ae;if(n.set_base_ptr(t),n.set_adjusted_ptr(t),!r)return B(0),n.ptr|0;for(var a=Array.prototype.slice.call(arguments),s=0;s<a.length;s++){var u=a[s];if(u===0||u===r)break;if(nt(u,r,n.get_adjusted_ptr_addr()))return B(u),n.ptr|0}return B(r),n.ptr|0}function Tr(){var t=se;if(!t)return B(0),0;var e=new de(t),r=e.get_type(),n=new Ae;if(n.set_base_ptr(t),n.set_adjusted_ptr(t),!r)return B(0),n.ptr|0;for(var a=Array.prototype.slice.call(arguments),s=0;s<a.length;s++){var u=a[s];if(u===0||u===r)break;if(nt(u,r,n.get_adjusted_ptr_addr()))return B(u),n.ptr|0}return B(r),n.ptr|0}function Fr(t,e,r){var n=new de(t);throw n.init(e,r),se=t,Le++,t}function Pr(){return Le}var G={mappings:{},buffers:[null,[],[]],printChar:function(t,e){var r=G.buffers[t];e===0||e===10?((t===1?Bt:ae)(ft(r,0)),r.length=0):r.push(e)},varargs:void 0,get:function(){G.varargs+=4;var t=v[G.varargs-4>>2];return t},getStr:function(t){var e=Te(t);return e},get64:function(t,e){return t}};function Ar(t,e,r){return G.varargs=r,0}function Er(t,e,r){return G.varargs=r,0}function $r(t,e,r){G.varargs=r}function Sr(t,e,r,n,a){}function Be(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function Dr(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Ft=t}var Ft=void 0;function D(t){for(var e="",r=t;S[r];)e+=Ft[S[r++]];return e}var ue={},re={},Ee={},Or=48,Hr=57;function Ne(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return e>=Or&&e<=Hr?"_"+t:t}function Ge(t,e){return t=Ne(t),new Function("body","return function "+t+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(e)}function ze(t,e){var r=Ge(e,function(n){this.name=e,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},r}var fe=void 0;function m(t){throw new fe(t)}var Pt=void 0;function $e(t){throw new Pt(t)}function K(t,e,r){t.forEach(function(o){Ee[o]=e});function n(o){var f=r(o);f.length!==t.length&&$e("Mismatched type converter count");for(var l=0;l<t.length;++l)z(t[l],f[l])}var a=new Array(e.length),s=[],u=0;e.forEach(function(o,f){re.hasOwnProperty(o)?a[f]=re[o]:(s.push(o),ue.hasOwnProperty(o)||(ue[o]=[]),ue[o].push(function(){a[f]=re[o],++u,u===s.length&&n(a)}))}),s.length===0&&n(a)}function z(t,e,r){if(r=r||{},!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=e.name;if(t||m('type "'+n+'" must have a positive integer typeid pointer'),re.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;m("Cannot register type '"+n+"' twice")}if(re[t]=e,delete Ee[t],ue.hasOwnProperty(t)){var a=ue[t];delete ue[t],a.forEach(function(s){s()})}}function Rr(t,e,r,n,a){var s=Be(r);e=D(e),z(t,{name:e,fromWireType:function(u){return!!u},toWireType:function(u,o){return o?n:a},argPackAdvance:8,readValueFromPointer:function(u){var o;if(r===1)o=x;else if(r===2)o=oe;else if(r===4)o=v;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(o[u>>s])},destructorFunction:null})}function jr(t){if(!(this instanceof Q)||!(t instanceof Q))return!1;for(var e=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=t.$$.ptrType.registeredClass,a=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&r===a}function kr(t){return{count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}}function Xe(t){function e(r){return r.$$.ptrType.registeredClass.name}m(e(t)+" instance already deleted")}var qe=!1;function At(t){}function Wr(t){t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)}function Et(t){t.count.value-=1;var e=t.count.value===0;e&&Wr(t)}function pe(t){return typeof FinalizationGroup>"u"?(pe=function(e){return e},t):(qe=new FinalizationGroup(function(e){for(var r=e.next();!r.done;r=e.next()){var n=r.value;n.ptr?Et(n):console.warn("object already deleted: "+n.ptr)}}),pe=function(e){return qe.register(e,e.$$,e.$$),e},At=function(e){qe.unregister(e.$$)},pe(t))}function Ur(){if(this.$$.ptr||Xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=pe(Object.create(Object.getPrototypeOf(this),{$$:{value:kr(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function Mr(){this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&m("Object already scheduled for deletion"),At(this),Et(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Ir(){return!this.$$.ptr}var he=void 0,ve=[];function Je(){for(;ve.length;){var t=ve.pop();t.$$.deleteScheduled=!1,t.delete()}}function Yr(){return this.$$.ptr||Xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&m("Object already scheduled for deletion"),ve.push(this),ve.length===1&&he&&he(Je),this.$$.deleteScheduled=!0,this}function xr(){Q.prototype.isAliasOf=jr,Q.prototype.clone=Ur,Q.prototype.delete=Mr,Q.prototype.isDeleted=Ir,Q.prototype.deleteLater=Yr}function Q(){}var $t={};function Ze(t,e,r){if(t[e].overloadTable===void 0){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||m("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}}function St(t,e,r){i.hasOwnProperty(t)?((r===void 0||i[t].overloadTable!==void 0&&i[t].overloadTable[r]!==void 0)&&m("Cannot register public name '"+t+"' twice"),Ze(i,t,t),i.hasOwnProperty(r)&&m("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),i[t].overloadTable[r]=e):(i[t]=e,r!==void 0&&(i[t].numArguments=r))}function Vr(t,e,r,n,a,s,u,o){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=s,this.upcast=u,this.downcast=o,this.pureVirtualFunctions=[]}function Ke(t,e,r){for(;e!==r;)e.upcast||m("Expected null or instance of "+r.name+", got an instance of "+e.name),t=e.upcast(t),e=e.baseClass;return t}function Lr(t,e){if(e===null)return this.isReference&&m("null is not a valid "+this.name),0;e.$$||m('Cannot pass "'+et(e)+'" as a '+this.name),e.$$.ptr||m("Cannot pass deleted object as a pointer of type "+this.name);var r=e.$$.ptrType.registeredClass,n=Ke(e.$$.ptr,r,this.registeredClass);return n}function Br(t,e){var r;if(e===null)return this.isReference&&m("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,r),r):0;e.$$||m('Cannot pass "'+et(e)+'" as a '+this.name),e.$$.ptr||m("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&e.$$.ptrType.isConst&&m("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);var n=e.$$.ptrType.registeredClass;if(r=Ke(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&m("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:m("Cannot convert argument of type "+(e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var a=e.clone();r=this.rawShare(r,Re.toHandle(function(){a.delete()})),t!==null&&t.push(this.rawDestructor,r)}break;default:m("Unsupporting sharing policy")}return r}function Nr(t,e){if(e===null)return this.isReference&&m("null is not a valid "+this.name),0;e.$$||m('Cannot pass "'+et(e)+'" as a '+this.name),e.$$.ptr||m("Cannot pass deleted object as a pointer of type "+this.name),e.$$.ptrType.isConst&&m("Cannot convert argument of type "+e.$$.ptrType.name+" to parameter type "+this.name);var r=e.$$.ptrType.registeredClass,n=Ke(e.$$.ptr,r,this.registeredClass);return n}function Se(t){return this.fromWireType(N[t>>2])}function Gr(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t}function zr(t){this.rawDestructor&&this.rawDestructor(t)}function Xr(t){t!==null&&t.delete()}function Dt(t,e,r){if(e===r)return t;if(r.baseClass===void 0)return null;var n=Dt(t,e,r.baseClass);return n===null?null:r.downcast(n)}function qr(){return Object.keys(ge).length}function Jr(){var t=[];for(var e in ge)ge.hasOwnProperty(e)&&t.push(ge[e]);return t}function Zr(t){he=t,ve.length&&he&&he(Je)}function Kr(){i.getInheritedInstanceCount=qr,i.getLiveInheritedInstances=Jr,i.flushPendingDeletes=Je,i.setDelayFunction=Zr}var ge={};function Qr(t,e){for(e===void 0&&m("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e}function en(t,e){return e=Qr(t,e),ge[e]}function De(t,e){(!e.ptrType||!e.ptr)&&$e("makeClassHandle requires ptr and ptrType");var r=!!e.smartPtrType,n=!!e.smartPtr;return r!==n&&$e("Both smartPtrType and smartPtr must be specified"),e.count={value:1},pe(Object.create(t,{$$:{value:e}}))}function tn(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=en(this.registeredClass,e);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?De(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):De(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var s=this.registeredClass.getActualType(e),u=$t[s];if(!u)return a.call(this);var o;this.isConst?o=u.constPointerType:o=u.pointerType;var f=Dt(e,this.registeredClass,o.registeredClass);return f===null?a.call(this):this.isSmartPointer?De(o.registeredClass.instancePrototype,{ptrType:o,ptr:f,smartPtrType:this,smartPtr:t}):De(o.registeredClass.instancePrototype,{ptrType:o,ptr:f})}function rn(){X.prototype.getPointee=Gr,X.prototype.destructor=zr,X.prototype.argPackAdvance=8,X.prototype.readValueFromPointer=Se,X.prototype.deleteObject=Xr,X.prototype.fromWireType=tn}function X(t,e,r,n,a,s,u,o,f,l,h){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=s,this.sharingPolicy=u,this.rawGetPointee=o,this.rawConstructor=f,this.rawShare=l,this.rawDestructor=h,!a&&e.baseClass===void 0?n?(this.toWireType=Lr,this.destructorFunction=null):(this.toWireType=Nr,this.destructorFunction=null):this.toWireType=Br}function Ot(t,e,r){i.hasOwnProperty(t)||$e("Replacing nonexistant public symbol"),i[t].overloadTable!==void 0&&r!==void 0?i[t].overloadTable[r]=e:(i[t]=e,i[t].argCount=r)}function nn(t,e,r){var n=i["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}function an(t,e,r){return t.includes("j")?nn(t,e,r):O(e).apply(null,r)}function on(t,e){var r=[];return function(){r.length=arguments.length;for(var n=0;n<arguments.length;n++)r[n]=arguments[n];return an(t,e,r)}}function ee(t,e){t=D(t);function r(){return t.includes("j")?on(t,e):O(e)}var n=r();return typeof n!="function"&&m("unknown function pointer with signature "+t+": "+e),n}var Ht=void 0;function Rt(t){var e=kt(t),r=D(e);return M(e),r}function me(t,e){var r=[],n={};function a(s){if(!n[s]&&!re[s]){if(Ee[s]){Ee[s].forEach(a);return}r.push(s),n[s]=!0}}throw e.forEach(a),new Ht(t+": "+r.map(Rt).join([", "]))}function sn(t,e,r,n,a,s,u,o,f,l,h,p,d){h=D(h),s=ee(a,s),o&&(o=ee(u,o)),l&&(l=ee(f,l)),d=ee(p,d);var b=Ne(h);St(b,function(){me("Cannot construct "+h+" due to unbound types",[n])}),K([t,e,r],n?[n]:[],function(w){w=w[0];var $,H;n?($=w.registeredClass,H=$.instancePrototype):H=Q.prototype;var L=Ge(b,function(){if(Object.getPrototypeOf(this)!==c)throw new fe("Use 'new' to construct "+h);if(_.constructor_body===void 0)throw new fe(h+" has no accessible constructor");var I=_.constructor_body[arguments.length];if(I===void 0)throw new fe("Tried to invoke ctor of "+h+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(_.constructor_body).toString()+") parameters instead!");return I.apply(this,arguments)}),c=Object.create(H,{constructor:{value:L}});L.prototype=c;var _=new Vr(h,L,c,d,$,s,o,l),P=new X(h,_,!0,!1,!1),y=new X(h+"*",_,!1,!1,!1),R=new X(h+" const*",_,!1,!0,!1);return $t[t]={pointerType:y,constPointerType:R},Ot(b,L),[P,y,R]})}function un(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var r=Ge(t.name||"unknownFunctionName",function(){});r.prototype=t.prototype;var n=new r,a=t.apply(n,e);return a instanceof Object?a:n}function fn(t){for(;t.length;){var e=t.pop(),r=t.pop();r(e)}}function Oe(t,e,r,n,a){var s=e.length;s<2&&m("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var u=e[1]!==null&&r!==null,o=!1,f=1;f<e.length;++f)if(e[f]!==null&&e[f].destructorFunction===void 0){o=!0;break}for(var l=e[0].name!=="void",h="",p="",f=0;f<s-2;++f)h+=(f!==0?", ":"")+"arg"+f,p+=(f!==0?", ":"")+"arg"+f+"Wired";var d="return function "+Ne(t)+"("+h+`) {
if (arguments.length !== `+(s-2)+`) {
throwBindingError('function `+t+" called with ' + arguments.length + ' arguments, expected "+(s-2)+` args!');
}
`;o&&(d+=`var destructors = [];
`);var b=o?"destructors":"null",w=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],$=[m,n,a,fn,e[0],e[1]];u&&(d+="var thisWired = classParam.toWireType("+b+`, this);
`);for(var f=0;f<s-2;++f)d+="var arg"+f+"Wired = argType"+f+".toWireType("+b+", arg"+f+"); // "+e[f+2].name+`
`,w.push("argType"+f),$.push(e[f+2]);if(u&&(p="thisWired"+(p.length>0?", ":"")+p),d+=(l?"var rv = ":"")+"invoker(fn"+(p.length>0?", ":"")+p+`);
`,o)d+=`runDestructors(destructors);
`;else for(var f=u?1:2;f<e.length;++f){var H=f===1?"thisWired":"arg"+(f-2)+"Wired";e[f].destructorFunction!==null&&(d+=H+"_dtor("+H+"); // "+e[f].name+`
`,w.push(H+"_dtor"),$.push(e[f].destructorFunction))}l&&(d+=`var ret = retType.fromWireType(rv);
return ret;
`),d+=`}
`,w.push(d);var L=un(Function,w).apply(null,$);return L}function He(t,e){for(var r=[],n=0;n<t;n++)r.push(v[(e>>2)+n]);return r}function cn(t,e,r,n,a,s,u){var o=He(r,n);e=D(e),s=ee(a,s),K([],[t],function(f){f=f[0];var l=f.name+"."+e;function h(){me("Cannot call "+l+" due to unbound types",o)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var p=f.registeredClass.constructor;return p[e]===void 0?(h.argCount=r-1,p[e]=h):(Ze(p,e,l),p[e].overloadTable[r-1]=h),K([],o,function(d){var b=[d[0],null].concat(d.slice(1)),w=Oe(l,b,null,s,u);return p[e].overloadTable===void 0?(w.argCount=r-1,p[e]=w):p[e].overloadTable[r-1]=w,[]}),[]})}function ln(t,e,r,n,a,s){zt(e>0);var u=He(e,r);a=ee(n,a),K([],[t],function(o){o=o[0];var f="constructor "+o.name;if(o.registeredClass.constructor_body===void 0&&(o.registeredClass.constructor_body=[]),o.registeredClass.constructor_body[e-1]!==void 0)throw new fe("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+o.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return o.registeredClass.constructor_body[e-1]=function(){me("Cannot construct "+o.name+" due to unbound types",u)},K([],u,function(l){return l.splice(1,0,null),o.registeredClass.constructor_body[e-1]=Oe(f,l,null,a,s),[]}),[]})}function _n(t,e,r,n,a,s,u,o){var f=He(r,n);e=D(e),s=ee(a,s),K([],[t],function(l){l=l[0];var h=l.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),o&&l.registeredClass.pureVirtualFunctions.push(e);function p(){me("Cannot call "+h+" due to unbound types",f)}var d=l.registeredClass.instancePrototype,b=d[e];return b===void 0||b.overloadTable===void 0&&b.className!==l.name&&b.argCount===r-2?(p.argCount=r-2,p.className=l.name,d[e]=p):(Ze(d,e,h),d[e].overloadTable[r-2]=p),K([],f,function(w){var $=Oe(h,w,l,s,u);return d[e].overloadTable===void 0?($.argCount=r-2,d[e]=$):d[e].overloadTable[r-2]=$,[]}),[]})}var Qe=[],U=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function jt(t){t>4&&--U[t].refcount===0&&(U[t]=void 0,Qe.push(t))}function dn(){for(var t=0,e=5;e<U.length;++e)U[e]!==void 0&&++t;return t}function pn(){for(var t=5;t<U.length;++t)if(U[t]!==void 0)return U[t];return null}function hn(){i.count_emval_handles=dn,i.get_first_emval=pn}var Re={toValue:function(t){return t||m("Cannot use deleted val. handle = "+t),U[t].value},toHandle:function(t){switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var e=Qe.length?Qe.pop():U.length;return U[e]={refcount:1,value:t},e}}}};function vn(t,e){e=D(e),z(t,{name:e,fromWireType:function(r){var n=Re.toValue(r);return jt(r),n},toWireType:function(r,n){return Re.toHandle(n)},argPackAdvance:8,readValueFromPointer:Se,destructorFunction:null})}function et(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function gn(t,e){switch(e){case 2:return function(r){return this.fromWireType(dt[r>>2])};case 3:return function(r){return this.fromWireType(pt[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function mn(t,e,r){var n=Be(r);e=D(e),z(t,{name:e,fromWireType:function(a){return a},toWireType:function(a,s){return s},argPackAdvance:8,readValueFromPointer:gn(e,n),destructorFunction:null})}function yn(t,e,r,n,a,s){var u=He(e,r);t=D(t),a=ee(n,a),St(t,function(){me("Cannot call "+t+" due to unbound types",u)},e-1),K([],u,function(o){var f=[o[0],null].concat(o.slice(1));return Ot(t,Oe(t,f,null,a,s),e-1),[]})}function bn(t,e,r){switch(e){case 0:return r?function(a){return x[a]}:function(a){return S[a]};case 1:return r?function(a){return oe[a>>1]}:function(a){return Fe[a>>1]};case 2:return r?function(a){return v[a>>2]}:function(a){return N[a>>2]};default:throw new TypeError("Unknown integer type: "+t)}}function Cn(t,e,r,n,a){e=D(e),a===-1&&(a=4294967295);var s=Be(r),u=function(p){return p};if(n===0){var o=32-8*r;u=function(p){return p<<o>>>o}}var f=e.includes("unsigned"),l=function(p,d){},h;f?h=function(p,d){return l(d,this.name),d>>>0}:h=function(p,d){return l(d,this.name),d},z(t,{name:e,fromWireType:u,toWireType:h,argPackAdvance:8,readValueFromPointer:bn(e,s,n!==0),destructorFunction:null})}function wn(t,e,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[e];function s(u){u=u>>2;var o=N,f=o[u],l=o[u+1];return new a(Ye,l,f)}r=D(r),z(t,{name:r,fromWireType:s,argPackAdvance:8,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})}function Tn(t,e){e=D(e);var r=e==="std::string";z(t,{name:e,fromWireType:function(n){var a=N[n>>2],s;if(r)for(var u=n+4,o=0;o<=a;++o){var f=n+4+o;if(o==a||S[f]==0){var l=f-u,h=Te(u,l);s===void 0?s=h:(s+="\0",s+=h),u=f+1}}else{for(var p=new Array(a),o=0;o<a;++o)p[o]=String.fromCharCode(S[n+4+o]);s=p.join("")}return M(n),s},toWireType:function(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var s,u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||m("Cannot pass non-string to std::string"),r&&u?s=function(){return lt(a)}:s=function(){return a.length};var o=s(),f=be(4+o+1);if(N[f>>2]=o,r&&u)Xt(a,f+4,o+1);else if(u)for(var l=0;l<o;++l){var h=a.charCodeAt(l);h>255&&(M(f),m("String has UTF-16 code units that do not fit in 8 bits")),S[f+4+l]=h}else for(var l=0;l<o;++l)S[f+4+l]=a[l];return n!==null&&n.push(M,f),f},argPackAdvance:8,readValueFromPointer:Se,destructorFunction:function(n){M(n)}})}function Fn(t,e,r){r=D(r);var n,a,s,u,o;e===2?(n=qt,a=Jt,u=Zt,s=function(){return Fe},o=1):e===4&&(n=Kt,a=Qt,u=er,s=function(){return N},o=2),z(t,{name:r,fromWireType:function(f){for(var l=N[f>>2],h=s(),p,d=f+4,b=0;b<=l;++b){var w=f+4+b*e;if(b==l||h[w>>o]==0){var $=w-d,H=n(d,$);p===void 0?p=H:(p+="\0",p+=H),d=w+e}}return M(f),p},toWireType:function(f,l){typeof l!="string"&&m("Cannot pass non-string to C++ string type "+r);var h=u(l),p=be(4+h+e);return N[p>>2]=h>>o,a(l,p+4,h+e),f!==null&&f.push(M,p),p},argPackAdvance:8,readValueFromPointer:Se,destructorFunction:function(f){M(f)}})}function Pn(t,e){e=D(e),z(t,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(r,n){}})}function An(t){t>4&&(U[t].refcount+=1)}function En(t,e){var r=re[t];return r===void 0&&m(e+" has unknown type "+Rt(t)),r}function $n(t,e){t=En(t,"_emval_take_value");var r=t.readValueFromPointer(e);return Re.toHandle(r)}function Sn(){_e("")}function Dn(t,e,r){S.copyWithin(t,e,e+r)}function On(t){try{return we.grow(t-Ye.byteLength+65535>>>16),ht(we.buffer),1}catch{}}function Hn(t){var e=S.length;t=t>>>0;var r=2147483648;if(t>r)return!1;for(var n=1;n<=4;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var s=Math.min(r,nr(Math.max(t,a),65536)),u=On(s);if(u)return!0}return!1}var tt={};function Rn(){return k||"./this.program"}function ye(){if(!ye.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:Rn()};for(var r in tt)tt[r]===void 0?delete e[r]:e[r]=tt[r];var n=[];for(var r in e)n.push(r+"="+e[r]);ye.strings=n}return ye.strings}function jn(t,e){var r=0;return ye().forEach(function(n,a){var s=e+r;v[t+a*4>>2]=s,rr(n,s),r+=n.length+1}),0}function kn(t,e){var r=ye();v[t>>2]=r.length;var n=0;return r.forEach(function(a){n+=a.length+1}),v[e>>2]=n,0}function Wn(t){return 0}function Un(t,e,r,n){var a=G.getStreamFromFD(t),s=G.doReadv(a,e,r);return v[n>>2]=s,0}function Mn(t,e,r,n,a){}function In(t,e,r,n){for(var a=0,s=0;s<r;s++){var u=v[e>>2],o=v[e+4>>2];e+=8;for(var f=0;f<o;f++)G.printChar(t,S[u+f]);a+=o}return v[n>>2]=a,0}function Yn(){return Nt()}function xn(t){return t}function Vn(t){B(t)}function je(t){return t%4===0&&(t%100!==0||t%400===0)}function rt(t,e){for(var r=0,n=0;n<=e;r+=t[n++]);return r}var ke=[31,29,31,30,31,30,31,31,30,31,30,31],We=[31,28,31,30,31,30,31,31,30,31,30,31];function Ue(t,e){for(var r=new Date(t.getTime());e>0;){var n=je(r.getFullYear()),a=r.getMonth(),s=(n?ke:We)[a];if(e>s-r.getDate())e-=s-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+e),r}return r}function Ln(t,e,r,n){var a=v[n+40>>2],s={tm_sec:v[n>>2],tm_min:v[n+4>>2],tm_hour:v[n+8>>2],tm_mday:v[n+12>>2],tm_mon:v[n+16>>2],tm_year:v[n+20>>2],tm_wday:v[n+24>>2],tm_yday:v[n+28>>2],tm_isdst:v[n+32>>2],tm_gmtoff:v[n+36>>2],tm_zone:a?Te(a):""},u=Te(r),o={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in o)u=u.replace(new RegExp(f,"g"),o[f]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(c,_,P){for(var y=typeof c=="number"?c.toString():c||"";y.length<_;)y=P[0]+y;return y}function d(c,_){return p(c,_,"0")}function b(c,_){function P(R){return R<0?-1:R>0?1:0}var y;return(y=P(c.getFullYear()-_.getFullYear()))===0&&(y=P(c.getMonth()-_.getMonth()))===0&&(y=P(c.getDate()-_.getDate())),y}function w(c){switch(c.getDay()){case 0:return new Date(c.getFullYear()-1,11,29);case 1:return c;case 2:return new Date(c.getFullYear(),0,3);case 3:return new Date(c.getFullYear(),0,2);case 4:return new Date(c.getFullYear(),0,1);case 5:return new Date(c.getFullYear()-1,11,31);case 6:return new Date(c.getFullYear()-1,11,30)}}function $(c){var _=Ue(new Date(c.tm_year+1900,0,1),c.tm_yday),P=new Date(_.getFullYear(),0,4),y=new Date(_.getFullYear()+1,0,4),R=w(P),I=w(y);return b(R,_)<=0?b(I,_)<=0?_.getFullYear()+1:_.getFullYear():_.getFullYear()-1}var H={"%a":function(c){return l[c.tm_wday].substring(0,3)},"%A":function(c){return l[c.tm_wday]},"%b":function(c){return h[c.tm_mon].substring(0,3)},"%B":function(c){return h[c.tm_mon]},"%C":function(c){var _=c.tm_year+1900;return d(_/100|0,2)},"%d":function(c){return d(c.tm_mday,2)},"%e":function(c){return p(c.tm_mday,2," ")},"%g":function(c){return $(c).toString().substring(2)},"%G":function(c){return $(c)},"%H":function(c){return d(c.tm_hour,2)},"%I":function(c){var _=c.tm_hour;return _==0?_=12:_>12&&(_-=12),d(_,2)},"%j":function(c){return d(c.tm_mday+rt(je(c.tm_year+1900)?ke:We,c.tm_mon-1),3)},"%m":function(c){return d(c.tm_mon+1,2)},"%M":function(c){return d(c.tm_min,2)},"%n":function(){return`
`},"%p":function(c){return c.tm_hour>=0&&c.tm_hour<12?"AM":"PM"},"%S":function(c){return d(c.tm_sec,2)},"%t":function(){return"	"},"%u":function(c){return c.tm_wday||7},"%U":function(c){var _=new Date(c.tm_year+1900,0,1),P=_.getDay()===0?_:Ue(_,7-_.getDay()),y=new Date(c.tm_year+1900,c.tm_mon,c.tm_mday);if(b(P,y)<0){var R=rt(je(y.getFullYear())?ke:We,y.getMonth()-1)-31,I=31-P.getDate(),ne=I+R+y.getDate();return d(Math.ceil(ne/7),2)}return b(P,_)===0?"01":"00"},"%V":function(c){var _=new Date(c.tm_year+1900,0,4),P=new Date(c.tm_year+1901,0,4),y=w(_),R=w(P),I=Ue(new Date(c.tm_year+1900,0,1),c.tm_yday);if(b(I,y)<0)return"53";if(b(R,I)<=0)return"01";var ne;return y.getFullYear()<c.tm_year+1900?ne=c.tm_yday+32-y.getDate():ne=c.tm_yday+1-y.getDate(),d(Math.ceil(ne/7),2)},"%w":function(c){return c.tm_wday},"%W":function(c){var _=new Date(c.tm_year,0,1),P=_.getDay()===1?_:Ue(_,_.getDay()===0?1:7-_.getDay()+1),y=new Date(c.tm_year+1900,c.tm_mon,c.tm_mday);if(b(P,y)<0){var R=rt(je(y.getFullYear())?ke:We,y.getMonth()-1)-31,I=31-P.getDate(),ne=I+R+y.getDate();return d(Math.ceil(ne/7),2)}return b(P,_)===0?"01":"00"},"%y":function(c){return(c.tm_year+1900).toString().substring(2)},"%Y":function(c){return c.tm_year+1900},"%z":function(c){var _=c.tm_gmtoff,P=_>=0;return _=Math.abs(_)/60,_=_/60*100+_%60,(P?"+":"-")+("0000"+_).slice(-4)},"%Z":function(c){return c.tm_zone},"%%":function(){return"%"}};for(var f in H)u.includes(f)&&(u=u.replace(new RegExp(f,"g"),H[f](s)));var L=Nn(u,!1);return L.length>e?0:(tr(L,t),L.length-1)}function Bn(t,e,r,n){return Ln(t,e,r,n)}Dr(),fe=i.BindingError=ze(Error,"BindingError"),Pt=i.InternalError=ze(Error,"InternalError"),xr(),rn(),Kr(),Ht=i.UnboundTypeError=ze(Error,"UnboundTypeError"),hn();function Nn(t,e,r){var n=r>0?r:lt(t)+1,a=new Array(n),s=ct(t,a,0,a.length);return e&&(a.length=s),a}var Gn={a:vr,V:mr,U:br,g:wr,h:Tr,X:Tt,b:Fr,Q:Pr,E:Cr,v:Ar,O:Er,P:$r,C:Sr,S:Rr,q:sn,y:cn,p:ln,c:_n,R:vn,w:mn,W:yn,j:Cn,e:wn,x:Tn,r:Fn,T:Pn,z:jt,A:An,s:$n,I:Sn,G:Dn,H:Hn,K:jn,L:kn,u:Wn,N:Un,B:Mn,M:In,d:Yn,l:ii,n:oi,f:ei,t:ti,m:ni,o:ai,k:si,i:ri,F:xn,D:Vn,J:Bn},gi=hr(),zn=i.___wasm_call_ctors=function(){return(zn=i.___wasm_call_ctors=i.asm.Z).apply(null,arguments)},be=i._malloc=function(){return(be=i._malloc=i.asm._).apply(null,arguments)},kt=i.___getTypeName=function(){return(kt=i.___getTypeName=i.asm.$).apply(null,arguments)},Xn=i.___embind_register_native_and_builtin_types=function(){return(Xn=i.___embind_register_native_and_builtin_types=i.asm.aa).apply(null,arguments)},V=i._setThrew=function(){return(V=i._setThrew=i.asm.ba).apply(null,arguments)},q=i.stackSave=function(){return(q=i.stackSave=i.asm.ca).apply(null,arguments)},J=i.stackRestore=function(){return(J=i.stackRestore=i.asm.da).apply(null,arguments)},M=i._free=function(){return(M=i._free=i.asm.ea).apply(null,arguments)},nt=i.___cxa_can_catch=function(){return(nt=i.___cxa_can_catch=i.asm.fa).apply(null,arguments)},Wt=i.___cxa_is_pointer_type=function(){return(Wt=i.___cxa_is_pointer_type=i.asm.ga).apply(null,arguments)},qn=i.dynCall_jiji=function(){return(qn=i.dynCall_jiji=i.asm.ia).apply(null,arguments)},Jn=i.dynCall_viijii=function(){return(Jn=i.dynCall_viijii=i.asm.ja).apply(null,arguments)},Zn=i.dynCall_iiiiij=function(){return(Zn=i.dynCall_iiiiij=i.asm.ka).apply(null,arguments)},Kn=i.dynCall_iiiiijj=function(){return(Kn=i.dynCall_iiiiijj=i.asm.la).apply(null,arguments)},Qn=i.dynCall_iiiiiijj=function(){return(Qn=i.dynCall_iiiiiijj=i.asm.ma).apply(null,arguments)};function ei(t,e,r){var n=q();try{return O(t)(e,r)}catch(a){if(J(n),a!==a+0&&a!=="longjmp")throw a;V(1,0)}}function ti(t,e,r,n,a,s){var u=q();try{return O(t)(e,r,n,a,s)}catch(o){if(J(u),o!==o+0&&o!=="longjmp")throw o;V(1,0)}}function ri(t,e,r,n){var a=q();try{O(t)(e,r,n)}catch(s){if(J(a),s!==s+0&&s!=="longjmp")throw s;V(1,0)}}function ni(t){var e=q();try{O(t)()}catch(r){if(J(e),r!==r+0&&r!=="longjmp")throw r;V(1,0)}}function ii(t,e){var r=q();try{return O(t)(e)}catch(n){if(J(r),n!==n+0&&n!=="longjmp")throw n;V(1,0)}}function ai(t,e){var r=q();try{O(t)(e)}catch(n){if(J(r),n!==n+0&&n!=="longjmp")throw n;V(1,0)}}function oi(t,e,r,n,a){var s=q();try{return O(t)(e,r,n,a)}catch(u){if(J(s),u!==u+0&&u!=="longjmp")throw u;V(1,0)}}function si(t,e,r){var n=q();try{O(t)(e,r)}catch(a){if(J(n),a!==a+0&&a!=="longjmp")throw a;V(1,0)}}var Me;le=function t(){Me||it(),Me||(le=t)};function it(t){if(t=t||A,te>0||(ar(),te>0))return;function e(){Me||(Me=!0,i.calledRun=!0,!st&&(or(),T(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),sr()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e()}if(i.run=it,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return it(),i.ready}}(),Ut=ui;var at={simpleNbox:["ffi_emissions","luc_emissions"],so2:["SO2_emissions"],CH4:["CH4_emissions"],OH:["NOX_emissions","CO_emissions","NMVOC_emissions"],ozone:["NOX_emissions","CO_emissions","NMVOC_emissions"],N2O:["N2O_emissions"],bc:["BC_emissions"],oc:["OC_emissions"],CF4_halocarbon:["CF4_emissions"],C2F6_halocarbon:["C2F6_emissions"],C4F10_halocarbon:["C4F10_emissions"],HFC23_halocarbon:["HFC23_emissions"],HFC32_halocarbon:["HFC32_emissions"],HFC4310_halocarbon:["HFC4310_emissions"],HFC125_halocarbon:["HFC125_emissions"],HFC134a_halocarbon:["HFC134a_emissions"],HFC143a_halocarbon:["HFC143a_emissions"],HFC152a_halocarbon:["HFC152a_emissions"],HFC227ea_halocarbon:["HFC227ea_emissions"],HFC245fa_halocarbon:["HFC245fa_emissions"],HFC236fa_halocarbon:["HFC236fa_emissions"],SF6_halocarbon:["SF6_emissions"],CFC11_halocarbon:["CFC11_emissions"],CFC12_halocarbon:["CFC12_emissions"],CFC113_halocarbon:["CFC113_emissions"],CFC114_halocarbon:["CFC114_emissions"],CFC115_halocarbon:["CFC115_emissions"],CCl4_halocarbon:["CCl4_emissions"],CH3CCl3_halocarbon:["CH3CCl3_emissions"],halon1211_halocarbon:["halon1211_emissions"],halon1301_halocarbon:["halon1301_emissions"],halon2402_halocarbon:["halon2402_emissions"],HCFC22_halocarbon:["HCFC22_emissions"],HCFC141b_halocarbon:["HCFC141b_emissions"],HCFC142b_halocarbon:["HCFC142b_emissions"],HCFC143_halocarbon:["HCFC143_emissions"],CH3Cl_halocarbon:["CH3Cl_emissions"],CH3Br_halocarbon:["CH3Br_emissions"]};function fi(E,C,i,g){if(Array.isArray(g))g.length==2&&typeof g[1]=="string"?E._set_double_unit(C,i,g[0],g[1]):g.forEach(T=>{T.length==3?E._set_timed_double_unit(C,i,T[0],T[1],T[2]):E._set_timed_double(C,i,T[0],T[1])});else switch(typeof g){case"string":E._set_string(C,i,g);break;case"number":E._set_double(C,i,g);break;case"boolean":E._set_double(C,i,g?1:0);break;default:console.error(`Unrecognized config value type: ${g}`);break}}function ci(E,C,i){let g=C.startYear,T=Object.keys(C.data);Object.keys(at).forEach(F=>{at[F].forEach(j=>{if(T.includes(j)){let A=new i.VectorSizeT;Object.keys(C.data[j]).map(Z=>A.push_back(g+parseInt(Z)));let k=new i.VectorDouble;Object.values(C.data[j]).forEach(Z=>k.push_back(Z)),E._set_timed_array(F,j,A,k)}})})}async function li(E,C){return new Ut().then(i=>{let g=new i.Hector;Object.keys(E).forEach(F=>{Object.keys(E[F]).forEach(j=>{let A=E[F][j];fi(g,F,j,A)})}),Object.keys(C).forEach(F=>{g.add_observable(C[F].component,C[F].variable,C[F].needs_date||!1,!1)});let T=!1;return{run:(F,j)=>{ci(g,j,i),T||(g.prepareToRun(),T=!0);try{g.run(F);let A={};return Object.keys(C).forEach(k=>{A[k]=g.get_observable(C[k].component,C[k].variable,!1);let Z=[];for(let ie=0;ie<A[k].size();ie++)Z.push(A[k].get(ie));A[k]=Z}),A}catch(A){console.error(typeof A=="number"?i.getExceptionMessage(A):A)}g.reset(F)},reset:F=>{g.reset(F)},shutdown:()=>{g.shutdown(),g.delete()}}})}var Mt=li;var _i="/assets/hector/rcp26.to_2050.json",di="/assets/hector/rcp26.default_emissions.json",pi={"temperature.Tgav":{component:"temperature",description:"global atmospheric temperature anomaly",unit:"degC",variable:"Tgav"}},It=class{constructor(C){this.startYear=C,fetch("/assets/hector/config.json").then(i=>i.json()).then(i=>{this.config=i}),fetch(di).then(i=>i.json()).then(i=>{this.defaultEmissions=i}),fetch(_i).then(i=>i.json()).then(i=>{this.emissions={startYear:i.startYear,data:{}};let g=this.startYear-i.startYear;Object.keys(i.data).forEach(T=>{let F=i.data[T].length;this.emissions.data[T]=i.data[T].slice(0,g)})})}addEmissions(C){Object.keys(this.defaultEmissions).forEach(i=>{let g=C[i]!==void 0?C[i]:this.defaultEmissions[i];this.emissions.data[i].push(g)})}updateTemperature(){return(this._hector?Promise.resolve(this._hector):Mt(this.config,pi).then(i=>{this._hector=i})).then(()=>{let i=this.emissions.startYear+this.emissions.data.ffi_emissions.length,T=this._hector.run(i,this.emissions)["temperature.Tgav"];return T[T.length-1]})}};export{It as Temperature};
